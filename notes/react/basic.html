<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å…¥é—¨ | è®°å½•äººç”Ÿå­¦ä¹ æ¡£æ¡ˆ</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="ğŸ“è®°å½•äººç”Ÿå­¦ä¹ æ¡£æ¡ˆ">
    
    <link rel="preload" href="/notes/assets/css/0.styles.501a61ce.css" as="style"><link rel="preload" href="/notes/assets/js/app.74070628.js" as="script"><link rel="preload" href="/notes/assets/js/7.8c1b57da.js" as="script"><link rel="preload" href="/notes/assets/js/2.08219823.js" as="script"><link rel="preload" href="/notes/assets/js/1.03a74d01.js" as="script"><link rel="preload" href="/notes/assets/js/33.ac3e0dfc.js" as="script"><link rel="prefetch" href="/notes/assets/js/10.c1ecd427.js"><link rel="prefetch" href="/notes/assets/js/11.0f2b057c.js"><link rel="prefetch" href="/notes/assets/js/14.387f9987.js"><link rel="prefetch" href="/notes/assets/js/15.c84fcb66.js"><link rel="prefetch" href="/notes/assets/js/16.ac6caa6f.js"><link rel="prefetch" href="/notes/assets/js/17.bbea281b.js"><link rel="prefetch" href="/notes/assets/js/18.591585f4.js"><link rel="prefetch" href="/notes/assets/js/19.8e045775.js"><link rel="prefetch" href="/notes/assets/js/20.569c6fea.js"><link rel="prefetch" href="/notes/assets/js/21.5284221e.js"><link rel="prefetch" href="/notes/assets/js/22.f29fe248.js"><link rel="prefetch" href="/notes/assets/js/23.141e596a.js"><link rel="prefetch" href="/notes/assets/js/24.a6127588.js"><link rel="prefetch" href="/notes/assets/js/25.25f9fdd2.js"><link rel="prefetch" href="/notes/assets/js/26.1f6f2ab7.js"><link rel="prefetch" href="/notes/assets/js/27.4e6087a2.js"><link rel="prefetch" href="/notes/assets/js/28.8a49b2e2.js"><link rel="prefetch" href="/notes/assets/js/29.f25e07e2.js"><link rel="prefetch" href="/notes/assets/js/3.c12034c9.js"><link rel="prefetch" href="/notes/assets/js/30.c1ec336c.js"><link rel="prefetch" href="/notes/assets/js/31.c7054ff0.js"><link rel="prefetch" href="/notes/assets/js/32.00625d31.js"><link rel="prefetch" href="/notes/assets/js/34.28a3c746.js"><link rel="prefetch" href="/notes/assets/js/35.e33c6d0c.js"><link rel="prefetch" href="/notes/assets/js/36.003c3aba.js"><link rel="prefetch" href="/notes/assets/js/37.80bbeb03.js"><link rel="prefetch" href="/notes/assets/js/38.a8170c0e.js"><link rel="prefetch" href="/notes/assets/js/39.0c8536a0.js"><link rel="prefetch" href="/notes/assets/js/4.86f1ffa0.js"><link rel="prefetch" href="/notes/assets/js/40.efc57ffe.js"><link rel="prefetch" href="/notes/assets/js/41.4625c353.js"><link rel="prefetch" href="/notes/assets/js/42.8f2da1ff.js"><link rel="prefetch" href="/notes/assets/js/43.03859945.js"><link rel="prefetch" href="/notes/assets/js/44.5a9dc470.js"><link rel="prefetch" href="/notes/assets/js/45.648d69eb.js"><link rel="prefetch" href="/notes/assets/js/46.55516868.js"><link rel="prefetch" href="/notes/assets/js/47.25c1936f.js"><link rel="prefetch" href="/notes/assets/js/48.4cb7764e.js"><link rel="prefetch" href="/notes/assets/js/5.a5a3f1b1.js"><link rel="prefetch" href="/notes/assets/js/6.57a93823.js"><link rel="prefetch" href="/notes/assets/js/8.49f1c9c9.js"><link rel="prefetch" href="/notes/assets/js/9.a2cd17ce.js"><link rel="prefetch" href="/notes/assets/js/vendors~docsearch.fc71871b.js">
    <link rel="stylesheet" href="/notes/assets/css/0.styles.501a61ce.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>è®°å½•äººç”Ÿå­¦ä¹ æ¡£æ¡ˆ</h3> <p class="description" data-v-59e6cb88>ğŸ“è®°å½•äººç”Ÿå­¦ä¹ æ¡£æ¡ˆ</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
        Â Â 
        <!---->
        2025
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes/" class="home-link router-link-active"><!----> <span class="site-name">è®°å½•äººç”Ÿå­¦ä¹ æ¡£æ¡ˆ</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notes/" class="nav-link"><i class="undefined"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      noraçš„è¶…é“¾æ¥
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/xtt" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><!----> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>6</h3> <h6 data-v-1fad0c41>æ–‡ç« </h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>0</h3> <h6 data-v-1fad0c41>æ ‡ç­¾</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/notes/" class="nav-link"><i class="undefined"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      noraçš„è¶…é“¾æ¥
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/xtt" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/notes/" class="sidebar-heading clickable router-link-active open"><span>æ¬¢è¿å­¦ä¹ </span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/" aria-current="page" class="sidebar-link">å‚è§‚å‰å¿…è¯»</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/notes/notes/computerNetwork" class="sidebar-heading clickable"><span>åŸºç¡€å­¦ä¹ </span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/notes/hc.html" class="sidebar-link">Html/Css</a></li><li><a href="/notes/notes/computerNetwork.html" class="sidebar-link">è®¡ç®—æœºç½‘ç»œ</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/notes/notes/vue/basic" class="sidebar-heading clickable"><span>vueçŸ¥è¯†ç‚¹</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/notes/vue/basic.html" class="sidebar-link">åŸºç¡€ç†å¿µ</a></li><li><a href="/notes/notes/vue/develop.html" class="sidebar-link">åŸºç¡€å¼€å‘</a></li><li><a href="/notes/notes/vue/component.html" class="sidebar-link">æ·±å…¥ç»„ä»¶</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/notes/notes/react/basic" class="sidebar-heading clickable open active"><span>reactçŸ¥è¯†ç‚¹</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/notes/react/basic.html" aria-current="page" class="active sidebar-link">åŸºç¡€ç†å¿µ</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/notes/notes/sql/basic" class="sidebar-heading clickable"><span>mysql</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/notes/notes/review.html" class="sidebar-link">é¢è¯•é›†åˆç‚¹</a></li><li><a href="/notes/notes/answer.html" class="sidebar-link">é¢è¯•ç‚¹è§£æ</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
        Â Â 
        <!---->
        2025
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">å…¥é—¨</h1> <div data-v-8a445198><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="å…¥é—¨"><a href="#å…¥é—¨" class="header-anchor">#</a> å…¥é—¨</h1> <h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="header-anchor">#</a> åˆ›å»ºé¡¹ç›®</h2> <div class="language-html extra-class"><pre class="language-html"><code>npx create-react-app my-app
cd my-app
npm start
æš´éœ²é…ç½®ï¼šnpm run eject
</code></pre></div><h2 id="jsxè¯­æ³•"><a href="#jsxè¯­æ³•" class="header-anchor">#</a> jsxè¯­æ³•</h2> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom/client'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">'./index.module.css'</span><span class="token punctuation">;</span> <span class="token comment">//æ¨¡å—åŒ–:é˜²æ­¢æ··æ·†;æ ‡ç­¾æ˜¯ä¸èµ·ä½œç”¨çš„ï¼Œåªæœ‰classå’Œid</span>
<span class="token keyword">import</span> reportWebVitals <span class="token keyword">from</span> <span class="token string">'./reportWebVitals'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> logo <span class="token keyword">from</span> <span class="token string">&quot;./logo.svg&quot;</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&quot;React&quot;</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">fristName</span><span class="token operator">:</span><span class="token string">&quot;Herry&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">lastName</span><span class="token operator">:</span><span class="token string">&quot;Potter&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token keyword">function</span> <span class="token function">onbFun</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">return</span> name<span class="token punctuation">.</span>fristName <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> name<span class="token punctuation">.</span>lastName
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> greet <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">good</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> show <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> jsx <span class="token operator">=</span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>app<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">hello,</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token function">onbFun</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token punctuation">{</span>greet<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token punctuation">{</span>show<span class="token operator">?</span>greet<span class="token operator">:</span><span class="token string">&quot;ç™»å½•&quot;</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token punctuation">{</span>show<span class="token operator">&amp;&amp;</span>greet<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>logo<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token punctuation">'</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>logo<span class="token punctuation">}</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token string">'50px'</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token string">'100px'</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token keyword">const</span> root <span class="token operator">=</span> ReactDOM<span class="token punctuation">.</span><span class="token function">createRoot</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
root<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  jsx
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">reportWebVitals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="header-anchor">#</a> ç»„ä»¶</h2> <ul><li>åœ¨æ·»åŠ å±æ€§æ—¶ï¼Œ class å±æ€§éœ€è¦å†™æˆ className ï¼Œfor å±æ€§éœ€è¦å†™æˆ htmlFor ï¼Œè¿™æ˜¯å› ä¸º class å’Œ for æ˜¯ JavaScript çš„ä¿ç•™å­—ã€‚</li></ul> <h3 id="classç»„ä»¶"><a href="#classç»„ä»¶" class="header-anchor">#</a> classç»„ä»¶</h3> <ul><li>å®šä¹‰: classç»„ä»¶é€šå¸¸<strong>æ‹¥æœ‰çŠ¶æ€</strong>å’Œ <strong>ç”Ÿå‘½å‘¨æœŸ</strong>ï¼Œ<strong>ç»§æ‰¿äºComponent</strong>ï¼Œå®ç°renderæ–¹æ³•ã€‚</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ClassComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å­˜å‚¨çŠ¶æ€</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//ç»„ä»¶æŒ‚è½½å®Œæˆä¹‹åæ‰§è¡Œ</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token comment">//æ›´æ–°stateï¼Œä¸èƒ½ç”¨this.state</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//ç»„ä»¶å¸è½½ä¹‹å‰æ‰§è¡Œ</span>
    <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> date <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ClassComponent</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>date<span class="token punctuation">.</span><span class="token function">toLocaleTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="functionç»„ä»¶"><a href="#functionç»„ä»¶" class="header-anchor">#</a> functionç»„ä»¶</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span> useState<span class="token punctuation">,</span>useEffect<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">FuncComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>date<span class="token punctuation">,</span>setDate<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token comment">//ç›¸å½“äºcomponentDidMount,componentDidUpdate(ä¸ºä»€ä¹ˆä¹Ÿç›¸å½“äºè¿™ä¸ªå‘¢ï¼šå› ä¸º[]è‹¥æœ‰ä¾èµ–é¡¹å°±ä¼šæ ¹æ®ä¾èµ–é¡¹æ¥é‡æ–°æ‰§è¡ŒuseEffect()), componentWillUnmountçš„é›†åˆ</span>
        <span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token function">setDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">FuncComponent</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>date<span class="token punctuation">.</span><span class="token function">toLocaleTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="setstateä½¿ç”¨"><a href="#setstateä½¿ç”¨" class="header-anchor">#</a> setStateä½¿ç”¨</h2> <p><img src="/notes/assets/img/setState.a45d291d.png" alt="è¿™æ˜¯å›¾ç‰‡" title="Magic Gardens"></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">//é”™è¯¯</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>comment <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span>
<span class="token comment">//æ­£ç¡®ç”¨setState</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">comment</span><span class="token operator">:</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// setStateåœ¨åˆæˆäº‹ä»¶å’Œç”Ÿå‘½å‘¨æœŸä¸­æ˜¯å¼‚æ­¥çš„ï¼Œè¿™é‡Œè¯´çš„å¼‚æ­¥èµ·å§‹æ—¶æ‰¹é‡æ›´æ–°ï¼Œè¾¾åˆ°äº†ä¼˜åŒ–æ€§èƒ½çš„ç›®çš„ï¼›åœ¨setTimeOutå’ŒåŸç”Ÿäº‹ä»¶ä¸­æ—¶åŒæ­¥çš„ï¼›</span>

<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>
<span class="token punctuation">{</span>
        <span class="token literal-property property">counter</span><span class="token operator">:</span>state<span class="token punctuation">.</span>counter <span class="token operator">+</span> v
<span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token function-variable function">setCounter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeValue</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeValue</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token comment">//åé¢çš„ä¼šè¦†ç›–å‰é¢çš„è¿›è¡Œåˆå¹¶ï¼›æ‰€ä»¥åªæ‰§è¡Œäº†ç¬¬äºŒä¸ªï¼›</span>
   
<span class="token punctuation">}</span>
 <span class="token comment">// å¦‚æœæƒ³é“¾å¼è°ƒç”¨å…ˆåŠ 1å†åŠ 2å°±éœ€è¦è¿™æ ·</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">state</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">counter</span><span class="token operator">:</span>state<span class="token punctuation">.</span>counter <span class="token operator">+</span> v
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="header-anchor">#</a> ç”Ÿå‘½å‘¨æœŸ</h2> <p><img src="/notes/assets/img/Life.2435112b.png" alt="è¿™æ˜¯å›¾ç‰‡" title="Magic Gardens"></p> <h3 id="æŒ‚è½½"><a href="#æŒ‚è½½" class="header-anchor">#</a> æŒ‚è½½</h3> <ul><li><p>å½“ç»„ä»¶å®ä¾‹è¢«åˆ›å»ºå¹¶æ’å…¥ DOM ä¸­æ—¶ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸè°ƒç”¨é¡ºåºå¦‚ä¸‹ï¼š</p></li> <li><p>constructor(): åœ¨ React ç»„ä»¶æŒ‚è½½ä¹‹å‰ï¼Œä¼šè°ƒç”¨å®ƒçš„æ„é€ å‡½æ•°ã€‚</p></li> <li><p>getDerivedStateFromProps(): åœ¨è°ƒç”¨ render æ–¹æ³•ä¹‹å‰è°ƒç”¨ï¼Œå¹¶ä¸”åœ¨åˆå§‹æŒ‚è½½åŠåç»­æ›´æ–°æ—¶éƒ½ä¼šè¢«è°ƒç”¨ã€‚</p></li> <li><p>render(): render() æ–¹æ³•æ˜¯ class ç»„ä»¶ä¸­å”¯ä¸€å¿…é¡»å®ç°çš„æ–¹æ³•ã€‚</p></li> <li><p>componentDidMount(): åœ¨ç»„ä»¶æŒ‚è½½åï¼ˆæ’å…¥ DOM æ ‘ä¸­ï¼‰ç«‹å³è°ƒç”¨ã€‚</p></li> <li><p>render() æ–¹æ³•æ˜¯ class ç»„ä»¶ä¸­å”¯ä¸€å¿…é¡»å®ç°çš„æ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦æ¥å®ç°ã€‚</p></li></ul> <h3 id="æ›´æ–°"><a href="#æ›´æ–°" class="header-anchor">#</a> æ›´æ–°</h3> <ul><li><p>æ¯å½“ç»„ä»¶çš„ state æˆ– props å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç»„ä»¶å°±ä¼šæ›´æ–°ã€‚</p></li> <li><p>å½“ç»„ä»¶çš„ props æˆ– state å‘ç”Ÿå˜åŒ–æ—¶ä¼šè§¦å‘æ›´æ–°ã€‚ç»„ä»¶æ›´æ–°çš„ç”Ÿå‘½å‘¨æœŸè°ƒç”¨é¡ºåºå¦‚ä¸‹ï¼š</p></li> <li><p>getDerivedStateFromProps(): åœ¨è°ƒç”¨ render æ–¹æ³•ä¹‹å‰è°ƒç”¨ï¼Œå¹¶ä¸”åœ¨åˆå§‹æŒ‚è½½åŠåç»­æ›´æ–°æ—¶éƒ½ä¼šè¢«è°ƒç”¨ã€‚æ ¹æ® shouldComponentUpdate() çš„è¿”å›å€¼ï¼Œåˆ¤æ–­ React ç»„ä»¶çš„è¾“å‡ºæ˜¯å¦å—å½“å‰ state æˆ– props æ›´æ”¹çš„å½±å“ã€‚</p></li> <li><p>shouldComponentUpdate():å½“ props æˆ– state å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒshouldComponentUpdate() ä¼šåœ¨æ¸²æŸ“æ‰§è¡Œä¹‹å‰è¢«è°ƒç”¨ã€‚</p></li> <li><p>render(): render() æ–¹æ³•æ˜¯ class ç»„ä»¶ä¸­å”¯ä¸€å¿…é¡»å®ç°çš„æ–¹æ³•ã€‚</p></li> <li><p>getSnapshotBeforeUpdate(): åœ¨æœ€è¿‘ä¸€æ¬¡æ¸²æŸ“è¾“å‡ºï¼ˆæäº¤åˆ° DOM èŠ‚ç‚¹ï¼‰ä¹‹å‰è°ƒç”¨ã€‚ä»–çš„ä»»ä½•è¿”å›å€¼å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™componentDidUpdate(prevProps,prevState,snapshot)</p></li> <li><p>componentDidUpdate(): åœ¨æ›´æ–°åä¼šè¢«ç«‹å³è°ƒç”¨ã€‚</p></li></ul> <h3 id="å¸è½½"><a href="#å¸è½½" class="header-anchor">#</a> å¸è½½</h3> <ul><li><p>å½“ç»„ä»¶ä» DOM ä¸­ç§»é™¤æ—¶ä¼šè°ƒç”¨å¦‚ä¸‹æ–¹æ³•ï¼š</p></li> <li><p>componentWillUnmount(): åœ¨ç»„ä»¶å¸è½½åŠé”€æ¯ä¹‹å‰ç›´æ¥è°ƒç”¨ã€‚</p></li></ul> <h2 id="ç»„ä»¶å¤åˆ"><a href="#ç»„ä»¶å¤åˆ" class="header-anchor">#</a> ç»„ä»¶å¤åˆ</h2> <h2 id="redux"><a href="#redux" class="header-anchor">#</a> Redux</h2> <p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šæœ‰ç›¸å½“å¤§é‡çš„,éšæ—¶é—´å˜åŒ–çš„æ•°æ®ï¼›/stateéœ€è¦æœ‰ä¸€ä¸ªå•ä¸€å¯é æ•°æ®æ¥æºï¼›/æŸä¸ªç»„ä»¶çŠ¶æ€éœ€è¦å…±äº«ï¼›=&gt;vueçš„pinia
<img src="/notes/assets/img/redux.124321a0.png" alt="è¿™æ˜¯å›¾ç‰‡" title="Magic Gardens"></p> <ul><li><p>createStoreåˆ›å»ºstore</p></li> <li><p>reduceråˆå§‹åŒ–,ä¿®æ”¹çŠ¶æ€å‡½æ•°</p></li> <li><p>getStateè·å–çŠ¶æ€å€¼</p></li> <li><p>dispatchæäº¤æ›´æ–°</p></li> <li><p>subscribeå˜æ›´è®¢é˜…</p></li> <li><p>npm install redux --save</p></li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;redux&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//å®šä¹‰stateåˆå§‹åŒ–å’Œä¿®æ”¹è§„åˆ™ï¼Œreduceræ˜¯ä¸€ä¸ªçº¯å‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">counterReducer</span><span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> action</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">&quot;ADD&quot;</span><span class="token operator">:</span>
                <span class="token keyword">return</span> state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">&quot;MINUS&quot;</span><span class="token operator">:</span>
                <span class="token keyword">return</span> state <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">return</span> state<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>counterReducer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// ReduxPage.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&quot;../store/&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ReduxPage</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;storeå‘ç”Ÿå˜åŒ–&quot;</span><span class="token punctuation">)</span>ï¼›
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">forceUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//å¼ºåˆ¶åˆ·æ–°ï¼›ä¹Ÿå¯ä»¥ä¸éœ€è¦è¿™é‡Œåˆ·æ–°=&gt;ç›´æ¥å†src/index.jsä¸­å…¨éƒ¨åˆ·æ–°å°±è¡Œ</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;store&quot;</span><span class="token punctuation">,</span>store<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ReduxPage</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&quot;ADD&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">add</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="react-redux"><a href="#react-redux" class="header-anchor">#</a> react-redux</h3> <ul><li>npm install react-redux --save</li> <li>ä½¿ç”¨react-redux</li></ul> <ol><li>Provider ä¸ºåä»£ç»„ä»¶æä¾›store</li> <li>connectä¸ºç»„ä»¶æä¾›æ•°æ®å’Œå˜æ›´æ–¹æ³•</li></ol> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// å…¨å±€æä¾›store ï¼šåœ¨src/index.jsä¸­</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&quot;./store/&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-redux&quot;</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Provider store <span class="token operator">=</span> <span class="token punctuation">{</span>store<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Provider</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// ReactReduxPage.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-redux&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>
<span class="token comment">// mapStateToProps æŠŠstateæ˜ å°„åˆ°props</span>
<span class="token parameter">state</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">num</span><span class="token operator">:</span>state<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token comment">//mapDispatchToProps æŠŠdispatchæ˜ å°„åˆ°props</span>
<span class="token punctuation">{</span>
    <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&quot;ADD&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">class</span> <span class="token class-name">ReactReduxPage</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> numï¼Œ dispatch<span class="token punctuation">,</span>add <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;props&quot;</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ReactReduxPage</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>num<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token punctuation">{</span><span class="token comment">/** &lt;button onClick= {()=&gt;dispatch({type:&quot;ADD&quot;})}&gt;add&lt;/button&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript">add</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">add</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="react-router"><a href="#react-router" class="header-anchor">#</a> react-router</h2> <p><strong>ä»‹ç»</strong>ï¼šreact-routeråŒ…å«3ä¸ªåº“ï¼Œreact-routerã€react-router-domå’Œreact-router-nativeã€‚
react-routeræä¾›æœ€åŸºæœ¬çš„è·¯ç”±åŠŸèƒ½ï¼Œå®é™…ä½¿ç”¨çš„æ—¶å€™æˆ‘ä»¬ä¸ä¼šç›´æ¥å®‰è£…react-routerï¼Œè€Œæ˜¯æ ¹æ®åº”ç”¨è¿è¡Œçš„ç¯å¢ƒé€‰æ‹©å®‰è£…react-router-dom(åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨)æˆ–react-router-native(åœ¨rnä¸­ä½¿ç”¨)ã€‚
react-router-domå’Œreact-router-nativeéƒ½ä¾èµ–react-routerï¼Œæ‰€ä»¥åœ¨å®‰è£…æ—¶react-routerä¹Ÿä¼šè‡ªåŠ¨å®‰è£…ï¼Œåˆ›å»ºwebåº”ç”¨;</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code> npm install <span class="token operator">--</span>save react<span class="token operator">-</span>router<span class="token operator">-</span>dom
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token keyword">as</span> Router<span class="token punctuation">,</span> Routr<span class="token punctuation">,</span> Link<span class="token punctuation">,</span> Switch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">RouterPage</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Router</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> é¦–é¡µ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ç”¨æˆ·ä¸­å¿ƒ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                         &lt;Route 
                         exact
                         path= &quot;/&quot;
                         component=</span><span class="token punctuation">{</span>HomePage<span class="token punctuation">}</span><span class="token plain-text">
                         children=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">children</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
                         render=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">render</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
                         /&gt;
                           &lt;Route path= &quot;/user&quot; component=</span><span class="token punctuation">{</span>UserPage<span class="token punctuation">}</span><span class="token plain-text">/&gt;
                           </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>EmptyPage<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Router</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
               
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">HomePage</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">HomePage</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">UserPage</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">UserPage</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">EmptyPage</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">EmptyPage</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Route æ¸²æŸ“å†…å®¹çš„ä¸‰ç§æ–¹å¼ï¼š</p> <ul><li>Routeæ¸²æŸ“ä¼˜å…ˆçº§ï¼šchildren&gt;component&gt;render</li> <li>è¿™ä¸‰ç§æ–¹å¼äº’æ–¥ï¼Œåªèƒ½ç”¨ä¸€ç§
<strong>exact</strong>ï¼šæ ¹è·¯ç”±è¦æ·»åŠ exactï¼Œå®ç°ç²¾ç¡®åŒ¹é…
<strong>childrenï¼šfunc</strong>ï¼šæœ‰æ—¶å€™ï¼Œä¸ç®¡locationæ˜¯å¦åŒ¹é…ï¼Œä½ éƒ½éœ€è¦æ¸²æŸ“ä¸€äº›å†…å®¹ï¼Œè¿™æ—¶å€™ä½ å¯ä»¥ç”¨children
<strong>renderï¼šfunc</strong>ï¼šä½†æ˜¯å½“ä½ ç”¨renderæ—¶ï¼Œä½ è°ƒç”¨çš„åªæ˜¯ä¸ªå‡½æ•°ï¼Œåªåœ¨å½“locationåŒ¹é…çš„æ—¶å€™æ¸²æŸ“ã€‚
<strong>componentï¼šcomponent</strong>ï¼šåªæœ‰å½“locationåŒ¹é…çš„æ—¶å€™æ¸²æŸ“
<strong>404é¡µé¢</strong>ï¼šè®¾ç½®ä¸€ä¸ªæ²¡æœ‰pathçš„è·¯ç”±åœ¨è·¯ç”±åˆ—è¡¨çš„æœ€åé¢ï¼Œè¡¨ç¤ºä¸€å®šåŒ¹é…ï¼ˆæ·»åŠ Switchè¡¨ç¤ºä»…åŒ¹é…ä¸€ä¸ªï¼‰</li></ul> <h2 id="purecomponent"><a href="#purecomponent" class="header-anchor">#</a> PureComponent</h2> <h3 id="æ€§èƒ½ä¼˜åŒ–å’Œæµ…æ¯”è¾ƒ"><a href="#æ€§èƒ½ä¼˜åŒ–å’Œæµ…æ¯”è¾ƒ" class="header-anchor">#</a> æ€§èƒ½ä¼˜åŒ–å’Œæµ…æ¯”è¾ƒ</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">PureComponentPage</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">count</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">setCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span>nextState</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> nextState<span class="token punctuation">.</span>count <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token comment">//å¦‚æœreturnå€¼æ˜¯falseçš„è¯å°±ä¸ä¼šå»renderï¼Œè¿™æ ·å°±è¾¾åˆ°æ€§èƒ½ä¼˜åŒ–</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;render&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">PureComponentPage</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>setCount<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token punctuation">{</span><span class="token comment">/* è‹¥æ²¡æœ‰shouldComponentUpdateï¼Œåˆ™ä¸€ç›´ç‚¹ä¸€ç›´è¢«é‡å¤æ¸²æŸ“ */</span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Componentï¼ŒPureComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//ä½¿ç”¨PureComponentæ³¨é‡Šæ‰shouldComponentUpdateå¯ä»¥è¾¾åˆ°ç›¸åŒæ•ˆæœ=&gt;PureComponentä¸­å†…ç½®äº†shouldComponentUpdateï¼›</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">PureComponentPage</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">count</span><span class="token operator">:</span><span class="token number">0</span>ï¼Œ
            <span class="token comment">//ç¬¬äºŒæ­¥ï¼šè‹¥å†åŠ ä¸Šä¸€ä¸ª</span>
            objï¼š<span class="token punctuation">{</span>numï¼š<span class="token number">0</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">setCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
         <span class="token comment">//ç¬¬äºŒæ­¥ï¼šå†åŠ ä¸Šä¸€ä¸ªobj</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span><span class="token literal-property property">obj</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">num</span><span class="token operator">:</span><span class="token number">1000</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//ç¬¬ä¸€æ­¥æ³¨é‡Šæ‰</span>
    <span class="token comment">// shouldComponentUpdate(nextProps,nextState){</span>
    <span class="token comment">//     return nextState.count !== this.state.count;</span>
    <span class="token comment">// }//å¦‚æœreturnå€¼æ˜¯falseçš„è¯å°±ä¸ä¼šå»renderï¼Œè¿™æ ·å°±è¾¾åˆ°æ€§èƒ½ä¼˜åŒ–</span>
    <span class="token comment">//åŸå› :</span>
    <span class="token comment">//PureComponentä¸­å†…ç½®äº†shouldComponentUpdateï¼›</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;render&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">PureComponentPage</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>setCount<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                  </span><span class="token punctuation">{</span><span class="token comment">/* //ç¬¬ä¸‰æ­¥ï¼šä¸€ç›´ç‚¹å‡»è¿˜æ˜¯ä¼šé‡å¤æ¸²æŸ“ */</span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>PureComponenå¿…é¡»ç”¨classå½¢å¼ï¼Œè€Œä¸”è¦æ³¨æ„çš„æ˜¯<strong>æµ…æ¯”è¾ƒ</strong>
React.Purecomponentä¸React.componentå¾ˆç›¸ä¼¼ã€‚ä¸¤è€…çš„åŒºåˆ«åœ¨äºReact.componentå¹¶æœªå®ç° shouldcomponentupdate()ï¼Œ
è€Œ React.Purecomponentä¸­ä»¥æµ…å±‚å¯¹æ¯” prop å’Œ state çš„æ–¹å¼æ¥å®ç°äº†è¯¥å‡½æ•°ã€‚
å¦‚æœèµ‹äºˆ React ç»„ä»¶ç›¸åŒçš„ propså’Œ stateï¼Œrender()å‡½æ•°ä¼šæ¸²æŸ“ç›¸åŒçš„å†…å®¹ï¼Œé‚£ä¹ˆåœ¨æŸäº›æƒ…å†µä¸‹ä½¿ç”¨React.PureComponentå¯æé«˜æ€§èƒ½ã€‚</p> <h2 id="hook"><a href="#hook" class="header-anchor">#</a> Hook</h2> <ul><li>Hook æ˜¯ä»€ä¹ˆ? Hook æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ï¼Œå®ƒå¯ä»¥è®©ä½ â€œé’©å…¥&quot; React çš„ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼Œusestateæ˜¯å…è®¸ä½ åœ¨ React å‡½æ•°ç»„ä»¶ä¸­æ·»åŠ  state çš„ Hookã€‚
ä»€ä¹ˆæ—¶å€™æˆ‘ä¼šç”¨ Hook?å¦‚æœä½ åœ¨ç¼–å†™å‡½æ•°ç»„ä»¶å¹¶æ„è¯†åˆ°éœ€è¦å‘å…¶æ·»åŠ ä¸€äº› stateï¼Œä»¥å‰çš„åšæ³•æ˜¯å¿…é¡»å°†å…¶å®ƒè½¬åŒ–ä¸º classã€‚ç°åœ¨ä½ å¯ä»¥åœ¨ç°æœ‰çš„å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨ Hookã€‚</li> <li>ä½¿ç”¨ Effect Hook
Effect Hook å¯ä»¥è®©ä½ åœ¨å‡½æ•°ç»„ä»¶ä¸­æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œã€‚
<strong>æ•°æ®è·å–ï¼Œè®¾ç½®è®¢é˜…ä»¥åŠæ‰‹åŠ¨æ›´æ”¹ React ç»„ä»¶ä¸­çš„ DOM éƒ½å±äºå‰¯ä½œç”¨</strong>ã€‚ä¸ç®¡ä½ çŸ¥ä¸çŸ¥é“è¿™äº›æ“ä½œï¼Œæˆ–æ˜¯â€œå‰¯ä½œç”¨â€œè¿™ä¸ªåå­—ï¼Œåº”è¯¥éƒ½åœ¨ç»„ä»¶ä¸­ä½¿ç”¨è¿‡å®ƒä»¬ã€‚</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span>useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">HookPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//å®šä¹‰ä¸€ä¸ªå«countçš„stateå˜é‡ï¼Œåˆå§‹åŒ–ä¸º0</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span>setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">const</span> <span class="token punctuation">[</span>date<span class="token punctuation">,</span>setDate<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å’ŒdidMountï¼ŒdidUpdateç±»ä¼¼</span>
    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;effect&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//åªéœ€è¦åœ¨countå‘ç”Ÿæ”¹å˜çš„æ—¶å€™æ‰§è¡Œå°±å¯ä»¥äº†</span>
        document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ç‚¹å‡»äº†</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">æ¬¡</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

        <span class="token comment">// //åªéœ€è¦åœ¨didMountæ—¶å€™æ‰§è¡Œå°±å¯ä»¥äº†</span>
        <span class="token comment">// const timer = setInterval(()=&gt;{</span>
        <span class="token comment">//   setDate(new Date())</span>
        <span class="token comment">// },1000)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>
     <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token comment">//åªéœ€è¦åœ¨didMountæ—¶å€™æ‰§è¡Œå°±å¯ä»¥äº†</span>
        <span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token function">setDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>

        <span class="token comment">// æ¸…é™¤å®šæ—¶å™¨ ç±»ä¼¼willUnmount</span>
        <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>date<span class="token punctuation">.</span><span class="token function">toLocalTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="usememoå’Œusecallback"><a href="#usememoå’Œusecallback" class="header-anchor">#</a> useMemoå’ŒuseCallback</h3> <ul><li>useMemoæŠŠâ€œåˆ›å»ºâ€å‡½æ•°å’Œä¾èµ–é¡¹æ•°ç»„ä½œä¸ºå‚æ•°ä¼ å…¥ useMemoï¼Œå®ƒä»…ä¼šåœ¨æŸä¸ªä¾èµ–é¡¹æ”¹å˜æ—¶æ‰é‡æ–°è®¡ç®— memoized å€¼ã€‚è¿™ç§ä¼˜åŒ–æœ‰åŠ©äºé¿å…åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½è¿›è¡Œé«˜å¼€é”€çš„è®¡ç®—</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span>useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">UseMemoPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span><span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//  //å½“å‰çš„è®¡ç®—åªå’Œcountæœ‰å…³ï¼Œä½†æ˜¯æˆ‘å»ç‚¹å‡»addæˆ–è€…è¾“å…¥å€¼å¾—æ—¶å€™éƒ½ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼›æ‰€ä»¥éœ€è¦ä¸€ä¸ªä¼˜åŒ–</span>
    <span class="token comment">//  const expensive = ()=&gt;{</span>
    <span class="token comment">//     console.log(&quot;compute&quot;);</span>
    <span class="token comment">//     let sum = 0;</span>
    <span class="token comment">//     for(let i = 0;i&lt;count;i++){</span>
    <span class="token comment">//         sum+=i;</span>
    <span class="token comment">//     }</span>
    <span class="token comment">//     return sum;</span>
    <span class="token comment">//  }</span>
    <span class="token comment">// ä¼˜åŒ–</span>
     <span class="token keyword">const</span> expensive <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;compute&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>count<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            sum<span class="token operator">+=</span>i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
        <span class="token comment">//åªæœ‰countæ”¹å˜çš„æ—¶å€™ï¼Œå½“å‰å‡½æ•°æ‰ä¼šé‡æ–°æ‰§è¡Œ</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>
     <span class="token keyword">const</span> <span class="token punctuation">[</span>value<span class="token punctuation">,</span> setValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span><span class="token comment">/* &lt;p&gt;expensive:{expensive()}&lt;/p&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">expensive:</span><span class="token punctuation">{</span>expensive<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
             </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">add</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
             </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">event</span><span class="token operator">=&gt;</span><span class="token function">setValue</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>

<span class="token punctuation">}</span>
</code></pre></div><ul><li>useCallback æŠŠå†…è”å›è°ƒå‡½æ•°åŠä¾èµ–é¡¹æ•°ç»„ä½œä¸ºå‚æ•°ä¼ å…¥ useca1lbackï¼Œå®ƒå°†è¿”å›è¯¥å›è°ƒå‡½æ•°çš„memoized ç‰ˆæœ¬ï¼Œè¯¥å›è°ƒå‡½æ•°ä»…åœ¨æŸä¸ªä¾èµ–é¡¹æ”¹å˜æ—¶æ‰ä¼šæ›´æ–°ã€‚
å½“ä½ æŠŠå›è°ƒå‡½æ•°ä¼ é€’ç»™ç»è¿‡ä¼˜åŒ–çš„å¹¶ä½¿ç”¨å¼•ç”¨ç›¸ç­‰æ€§å»é¿å…éå¿…è¦æ¸²æŸ“(ä¾‹å¦‚ shouldcomponentUpdate)çš„å­ç»„ä»¶æ—¶ï¼Œå®ƒå°†éå¸¸æœ‰ç”¨</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span>useEffect<span class="token punctuation">,</span>Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">UseCallbackPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span><span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token keyword">const</span> addClick <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
         <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>count<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            sum <span class="token operator">+=</span>i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>

     <span class="token keyword">const</span> <span class="token punctuation">[</span>value<span class="token punctuation">,</span> setValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
             </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">add</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
             </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">event</span><span class="token operator">=&gt;</span><span class="token function">setValue</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
             &lt;Child addClick = </span><span class="token punctuation">{</span>addClick<span class="token punctuation">}</span><span class="token plain-text">/&gt;
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>

<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;chlid render&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>addClick<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Child</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                &lt;button onClick= </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">addClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">&gt;add</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="è‡ªå®šä¹‰hookä¸hookä½¿ç”¨è§„åˆ™"><a href="#è‡ªå®šä¹‰hookä¸hookä½¿ç”¨è§„åˆ™" class="header-anchor">#</a> è‡ªå®šä¹‰Hookä¸Hookä½¿ç”¨è§„åˆ™</h2> <p><strong>è‡ªå®šä¹‰ä¸€ä¸ªhookï¼Œå‘½åè¦ä»¥useå¼€å¤´</strong></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span>useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">CustomHookPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token comment">//é”™è¯¯=&gt;ä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­æˆ–è€…å­å‡½æ•°ä¸­è°ƒç”¨</span>
        <span class="token comment">//if(count){</span>
        <span class="token comment">// const [num, setNum]= useState(0)</span>
        <span class="token comment">// };</span>
        <span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token function">setDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>

        <span class="token comment">// æ¸…é™¤å®šæ—¶å™¨ ç±»ä¼¼willUnmount</span>
        <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token function">useClock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocalTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//é”™è¯¯-&gt;åªèƒ½åœ¨**React çš„å‡½æ•°ç»„ä»¶**ä¸­è°ƒç”¨ Hookã€‚ä¸è¦åœ¨å…¶ä»–JavaScript å‡½æ•°ä¸­è°ƒç”¨ã€‚</span>
<span class="token comment">// function getNum(){</span>
<span class="token comment">//      const [num, setNum]= useState(0)</span>
<span class="token comment">//      return num</span>
<span class="token comment">// }</span>
<span class="token keyword">function</span> <span class="token function">useClock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">const</span> <span class="token punctuation">[</span>date<span class="token punctuation">,</span>setDate<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token comment">//åªéœ€è¦åœ¨didMountæ—¶å€™æ‰§è¡Œå°±å¯ä»¥äº†</span>
        <span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token function">setDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>

        <span class="token comment">// æ¸…é™¤å®šæ—¶å™¨ ç±»ä¼¼willUnmount</span>
        <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> date
<span class="token punctuation">}</span>
<span class="token comment">// åˆ«çš„é¡µé¢æƒ³ç”¨useClockè¿™ä¸ªhookåªéœ€è¦å¯¼å‡ºå†å¼•å…¥å°±å¯ä»¥äº†</span>
</code></pre></div><p>Hook å°±æ˜¯JavaScript å‡½æ•°ï¼Œä½†æ˜¯ä½¿ç”¨å®ƒä»¬ä¼šæœ‰ä¸¤ä¸ªé¢å¤–çš„è§„åˆ™:</p> <ul><li>åªèƒ½åœ¨<strong>å‡½æ•°æœ€å¤–å±‚</strong>è°ƒç”¨ Hookã€‚ä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­æˆ–è€…å­å‡½æ•°ä¸­è°ƒç”¨ã€‚</li> <li>åªèƒ½åœ¨<strong>React çš„å‡½æ•°ç»„ä»¶</strong>ä¸­è°ƒç”¨ Hookã€‚ä¸è¦åœ¨å…¶ä»–JavaScript å‡½æ•°ä¸­è°ƒç”¨ã€‚(è¿˜æœ‰ä¸€ä¸ªåœ°æ–¹å¯ä»¥è°ƒç”¨ Hook -- å°±æ˜¯è‡ªå®šä¹‰çš„ Hook ä¸­ã€‚)</li></ul> <h1 id="reactç»„ä»¶åŒ–"><a href="#reactç»„ä»¶åŒ–" class="header-anchor">#</a> Reactç»„ä»¶åŒ–</h1> <ul><li>ç»„ä»¶åŒ–ä¼˜ç‚¹</li></ul> <ol><li>å¢å¼ºä»£ç é‡ç”¨æ€§ï¼Œæé«˜å¼€å‘æ•ˆç‡</li> <li>ç®€åŒ–è°ƒè¯•æ­¥éª¤ï¼Œæå‡æ•´ä¸ªé¡¹ç›®çš„å¯ç»´æŠ¤æ€§</li> <li>ä¾¿äºååŒå¼€å‘</li> <li>æ³¨æ„ç‚¹:é™ä½è€¦åˆæ€§</li></ol> <h2 id="é«˜é˜¶ç»„ä»¶-hoc"><a href="#é«˜é˜¶ç»„ä»¶-hoc" class="header-anchor">#</a> é«˜é˜¶ç»„ä»¶-HOC</h2> <p>ä¸ºäº†æé«˜ç»„ä»¶å¤ç”¨ç‡ï¼Œå¯æµ‹è¯•æ€§ï¼Œå°±è¦ä¿è¯ç»„ä»¶åŠŸèƒ½å•ä¸€æ€§;
ä½†æ˜¯è‹¥è¦æ»¡è¶³å¤æ‚éœ€æ±‚å°±è¦æ‰©å±•åŠŸèƒ½å•ä¸€çš„ç»„ä»¶ï¼Œåœ¨Reacté‡Œå°±æœ‰äº†HOC(Higher-OrderComponents)çš„æ¦‚å¿µã€‚</p> <ul><li>å®šä¹‰: é«˜é˜¶ç»„ä»¶æ˜¯å‚æ•°ä¸ºç»„ä»¶ï¼Œ<strong>è¿”å›å€¼ä¸ºæ–°ç»„ä»¶çš„å‡½æ•°</strong>ã€‚</li> <li>æ³¨æ„äº‹é¡¹ï¼š é«˜é˜¶ç»„ä»¶(HOC)æ˜¯React ä¸­ç”¨äºå¤ç”¨ç»„ä»¶é€»è¾‘çš„ä¸€ç§é«˜çº§æŠ€å·§ã€‚
HOCè‡ªèº«ä¸æ˜¯ React APIçš„ä¸€éƒ¨åˆ†ï¼Œå®ƒæ˜¯ä¸€ç§åŸºäº React çš„ç»„åˆç‰¹æ€§è€Œå½¢æˆçš„è®¾è®¡æ¨¡å¼ã€‚
ä¸è¦åœ¨ render æ–¹æ³•ä¸­ä½¿ç”¨HOC
React çš„ diff ç®—æ³•(ç§°ä¸ºåè°ƒ)ä½¿ç”¨ç»„ä»¶æ ‡è¯†æ¥ç¡®å®šå®ƒæ˜¯åº”è¯¥æ›´æ–°ç°æœ‰å­æ ‘è¿˜æ˜¯å°†å…¶ä¸¢å¼ƒå¹¶æŒ‚è½½æ–°å­æ ‘ã€‚å¦‚æœä» render è¿”å›çš„ç»„ä»¶ä¸å‰ä¸€ä¸ªæ¸²æŸ“ä¸­çš„ç»„ä»¶ç›¸åŒ(=-=)ï¼Œåˆ™ React é€šè¿‡å°†å­æ ‘ä¸æ–°å­æ ‘è¿›è¡ŒåŒºåˆ†æ¥é€’å½’æ›´æ–°å­æ ‘ã€‚å¦‚æœå®ƒä»¬ä¸ç›¸ç­‰ï¼Œåˆ™å®Œå…¨å¸è½½å‰ä¸€ä¸ªå­æ ‘ã€‚
è¿™ä¸ä»…ä»…æ˜¯æ€§èƒ½é—®é¢˜-é‡æ–°æŒ‚è½½ç»„ä»¶ä¼šå¯¼è‡´è¯¥ç»„ä»¶åŠå…¶æ‰€æœ‰å­ç»„ä»¶çš„çŠ¶æ€ä¸¢å¤±ã€‚</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//HOCæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªç»„ä»¶ï¼Œè¿”å›ä¸€ä¸ªç»„ä»¶</span>
<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Child</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>
<span class="token comment">// Cmpè¿™é‡Œæ˜¯functionæˆ–è€…classç»„ä»¶</span>
<span class="token comment">//åŒç®­å¤´å‡½æ•°ï¼šæ¯”è¾ƒæ¸…æ™°</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token parameter">Cmp</span> <span class="token operator">=&gt;</span><span class="token parameter">props</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>border<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Cmp</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//éåŒç®­å¤´å‡½æ•°ï¼šä½“éªŒä¸å¥½</span>
<span class="token comment">// const foo = Cmp =&gt;{</span>
<span class="token comment">//     return props =&gt;{</span>
<span class="token comment">//          return (</span>
<span class="token comment">//         &lt;div className=&quot;border&quot;&gt;</span>
<span class="token comment">//             &lt;Cmp {...props} /&gt;</span>
<span class="token comment">//         &lt;/div&gt;</span>
<span class="token comment">//     )</span>
<span class="token comment">//     }</span>
<span class="token comment">// }</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo2</span> <span class="token operator">=</span> <span class="token parameter">Cmp</span> <span class="token operator">=&gt;</span><span class="token parameter">props</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>greenBorder<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Cmp</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> Foo <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span>Child<span class="token punctuation">)</span>
<span class="token keyword">const</span> Foo <span class="token operator">=</span> <span class="token function">foo2</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">(</span>Child<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//å¯ä»¥é“¾å¼</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">HOCPages</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span><span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">HOCPages</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Foo</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="è£…é¥°å™¨å†™æ³•"><a href="#è£…é¥°å™¨å†™æ³•" class="header-anchor">#</a> è£…é¥°å™¨å†™æ³•</h3> <p>é«˜é˜¶ç»„ä»¶æœ¬èº«æ˜¯å¯¹è£…é¥°å™¨æ¨¡å¼çš„åº”ç”¨ï¼Œè‡ªç„¶å¯ä»¥åˆ©ç”¨ES7ä¸­å‡ºç°çš„è£…é¥°å™¨è¯­æ³•æ¥æ›´ä¼˜é›…çš„ä¹¦å†™ä»£ç ã€‚</p> <p>npm install -D @babel/plugin-proposal-decorators</p> <p>æ›´æ–°config-overrides.js</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> addDecoratorsLegacy <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;customize-cra&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">override</span><span class="token punctuation">(</span>
   <span class="token operator">...</span><span class="token punctuation">,</span>
   <span class="token function">addDecoratorsLegacy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//é…ç½®è£…é¥°å™¨</span>
<span class="token punctuation">)</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// Cmpè¿™é‡Œæ˜¯functionæˆ–è€…classç»„ä»¶</span>
<span class="token comment">//åŒç®­å¤´å‡½æ•°ï¼šæ¯”è¾ƒæ¸…æ™°</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token parameter">Cmp</span> <span class="token operator">=&gt;</span><span class="token parameter">props</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>border<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
           </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Cmp</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo2</span> <span class="token operator">=</span> <span class="token parameter">Cmp</span> <span class="token operator">=&gt;</span><span class="token parameter">props</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>greenBorder<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
           </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Cmp</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// const Foo = foo(Child),è£…é¥°å™¨å†™æ³•å°±ç›´æ¥@fooï¼› ç»„ä»¶å¿…é¡»æ˜¯classç»„ä»¶</span>
@foo
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Compinent</span> <span class="token punctuation">{</span>
   <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Child</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// const Foo = foo2(foo(foo(Child))) é“¾å¼è£…é¥°å™¨å°±æ˜¯</span>
<span class="token comment">// @foo2</span>
<span class="token comment">// @foo</span>
<span class="token comment">// @foo</span>
<span class="token comment">// class Child extends Compinent {</span>
<span class="token comment">//     render(){</span>
<span class="token comment">//          return &lt;div&gt;Child&lt;/div&gt;</span>
<span class="token comment">//     }</span>
<span class="token comment">// }</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">HOCPages</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span><span class="token punctuation">{</span>
 <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
           </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">HOCPages</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
           </span><span class="token punctuation">{</span><span class="token comment">/* &lt;Foo /&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">
           </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Child</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="antdè¡¨å•ç»„ä»¶è®¾è®¡ä¸å®ç°"><a href="#antdè¡¨å•ç»„ä»¶è®¾è®¡ä¸å®ç°" class="header-anchor">#</a> antdè¡¨å•ç»„ä»¶è®¾è®¡ä¸å®ç°</h2> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> From<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> Icon<span class="token punctuation">,</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;antd&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nameRules <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">required</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">message</span><span class="token operator">:</span><span class="token string">&quot;please input ur password&quot;</span><span class="token punctuation">}</span>
@Form<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">FormPage</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span><span class="token punctuation">{</span>
    <span class="token function-variable function">submit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>getFieldsValue<span class="token punctuation">,</span> getFieldValue<span class="token punctuation">,</span> validateFields<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>form<span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;submit&quot;</span><span class="token punctuation">,</span><span class="token function">getFieldsValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">getFieldValue</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">validateFields</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>values</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;err&quot;</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>values<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;props&quot;</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>getFieldDecorator<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>form<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">FormPage</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token punctuation">{</span><span class="token function">getFieldDecorator</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>nameRules<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>please input ur name<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
                    </span><span class="token punctuation">{</span><span class="token comment">/* &lt;Input placeholder=&quot;please input ur name&quot; /&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                      </span><span class="token punctuation">{</span><span class="token function">getFieldDecorator</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>please input ur password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
                    </span><span class="token punctuation">{</span><span class="token comment">/* &lt;Input placeholder=&quot;please input ur password&quot; /&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ss
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>submit<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Submit</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> FormPage
</code></pre></div><h2 id="ä¼ é€é—¨-å¼¹çª—æŒ‚è½½"><a href="#ä¼ é€é—¨-å¼¹çª—æŒ‚è½½" class="header-anchor">#</a> ä¼ é€é—¨  &amp;&amp;  å¼¹çª—æŒ‚è½½</h2> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createPortal <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-dom&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nameRules <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">required</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">message</span><span class="token operator">:</span><span class="token string">&quot;please input ur password&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Dialog</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> doc <span class="token operator">=</span> window<span class="token punctuation">.</span>document<span class="token punctuation">;</span>
        <span class="token keyword">const</span> node <span class="token operator">=</span> doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        doc<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>node<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// åŠæ—¶é”€æ¯</span>
    <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        window<span class="token punctuation">.</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
       <span class="token keyword">return</span> <span class="token function">createPortal</span><span class="token punctuation">(</span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Dialog</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>node<span class="token comment">//ä¼ é€åˆ°è¿™ä¸ªèŠ‚ç‚¹</span>
       <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="redux-2"><a href="#redux-2" class="header-anchor">#</a> Redux</h1> <p><strong>reducer å°±æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œæ¥æ”¶æ—§çš„state å’Œ actionï¼Œè¿”å›æ–°çš„ stateã€‚</strong> (æƒ³ä¸€ä¸‹jsæ•°ç»„çš„reduce)</p> <h2 id="context-api"><a href="#context-api" class="header-anchor">#</a> Context API</h2> <p><strong>vueä¸­çš„provide/injectå°±æ˜¯æ¥è‡ªäºContext</strong></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">//ThemeContext.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// è‹¥ContextTypePageå’ŒContextPageä¸æ˜¯çˆ¶å­ä»£ï¼Œä¸­é—´å…¶å®å·®äº†å¾ˆå¤šå±‚çº§ï¼Œè¿™å°±éœ€è¦ä¸Šä¸‹æ–‡ï¼›ä¸Šä¸‹æ–‡å¯èƒ½åœ¨å¾ˆå¤šæ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œæ‰€ä»¥å•ç‹¬æå‡ºæ¥ä¸€ä¸ªæ–‡ä»¶</span>
<span class="token comment">//åˆ›å»ºcontext å†œæ°‘ç§èœ,å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°Provider,å–å€¼é»˜è®¤å€¼</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> ThemeContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">themeColor</span><span class="token operator">:</span><span class="token string">&quot;pink&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//æ¥æ”¶ æ‰¹å‘å•†æ‰¹å‘èœ</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> ThemeProvider <span class="token operator">=</span> ThemeContext<span class="token punctuation">.</span>Provider<span class="token punctuation">;</span>
<span class="token comment">//æ¶ˆè´¹ åƒèœ</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> ThemeConsumer <span class="token operator">=</span> ThemeContext<span class="token punctuation">.</span>Consumer<span class="token punctuation">;</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">//userContext.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// è‹¥ContextTypePageå’ŒContextPageä¸æ˜¯çˆ¶å­ä»£ï¼Œä¸­é—´å…¶å®å·®äº†å¾ˆå¤šå±‚çº§ï¼Œè¿™å°±éœ€è¦ä¸Šä¸‹æ–‡ï¼›ä¸Šä¸‹æ–‡å¯èƒ½åœ¨å¾ˆå¤šæ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œæ‰€ä»¥å•ç‹¬æå‡ºæ¥ä¸€ä¸ªæ–‡ä»¶</span>
<span class="token comment">//åˆ›å»ºcontext å†œæ°‘ç§èœ,å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°Provider,å–å€¼é»˜è®¤å€¼</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> UserContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">themeColor</span><span class="token operator">:</span><span class="token string">&quot;pink&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//æ¥æ”¶ æ‰¹å‘å•†æ‰¹å‘èœ</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> UserProvider <span class="token operator">=</span> UserContext<span class="token punctuation">.</span>Provider<span class="token punctuation">;</span>
<span class="token comment">//æ¶ˆè´¹ åƒèœ</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> UserConsumer <span class="token operator">=</span> UserContext<span class="token punctuation">.</span>Consumer<span class="token punctuation">;</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// ContextPage.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ContextTypePage <span class="token keyword">from</span> <span class="token string">'./ContextTypePage'</span>
<span class="token keyword">import</span> ConsumerPage <span class="token keyword">from</span> <span class="token string">'./ConsumerPage'</span>
<span class="token keyword">import</span> MultipleContextPage <span class="token keyword">from</span> <span class="token string">'./MultipleContextPage'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ThemeContext<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../ThemeContext&quot;</span>
<span class="token comment">// è‹¥ContextTypePageå’ŒContextPageä¸æ˜¯çˆ¶å­ä»£ï¼Œä¸­é—´å…¶å®å·®äº†å¾ˆå¤šå±‚çº§ï¼Œè¿™å°±éœ€è¦ä¸Šä¸‹æ–‡ï¼›ä¸Šä¸‹æ–‡å¯èƒ½åœ¨å¾ˆå¤šæ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œæ‰€ä»¥å•ç‹¬æå‡ºæ¥ä¸€ä¸ªæ–‡ä»¶</span>
<span class="token comment">// //åˆ›å»º</span>
<span class="token comment">// const ThemeContext = React.createContext()</span>
<span class="token comment">// //æ¥æ”¶</span>
<span class="token comment">// const ThemeProvider = ThemeContext.Provider;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ContextPage</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">theme</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token literal-property property">themeColor</span><span class="token operator">:</span><span class="token string">&quot;red&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">user</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'xiaoming'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">changeColor</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> themeColor <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">theme</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token literal-property property">themeColor</span><span class="token operator">:</span>themeColor <span class="token operator">===</span><span class="token string">&quot;red&quot;</span><span class="token operator">?</span><span class="token string">&quot;green&quot;</span><span class="token operator">:</span><span class="token string">&quot;red&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>theme<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>changeColor<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">changeColor</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ContextPage</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ThemeProvider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>theme<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token punctuation">{</span><span class="token comment">/* åªèƒ½è®¢é˜…ä¸€ä¸ªcontext */</span><span class="token punctuation">}</span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ContextTypePage</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">

                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ConsumerPage</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                &lt;UserProvider value= </span><span class="token punctuation">{</span>user<span class="token punctuation">}</span><span class="token plain-text">&gt;
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MultipleContextPage</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">UserProvider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ThemeProvider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// ContextTypePage.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ThemeContext<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../ThemeContext&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ContextTypePage</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span><span class="token punctuation">{</span>
    <span class="token keyword">static</span> contextType <span class="token operator">=</span> ThemeContext<span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;this&quot;</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token comment">//è¿™ä¸ªthis.context åœ¨ä»»ä½•ç”Ÿå‘½å‘¨æœŸéƒ½å¯ä»¥è®¿é—®åˆ°</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>themeColor<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>themeColor<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ContextTypePage</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//åªèƒ½è®¢é˜…ä¸€ä¸ªcontext å¹¶ä¸”æ˜¯ç±»ç»„ä»¶</span>
</code></pre></div> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// ConsumerPage.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ThemeConsumer<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../ThemeContext&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">ConsumerPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ConsumerPage</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ThemeConsumer</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
             </span><span class="token punctuation">{</span><span class="token parameter">ctx</span><span class="token operator">=&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>themeColor<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ConsumerPage</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ThemeConsumer</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// MultipleContextPage.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ThemeConsumer<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../ThemeContext&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>UserConsumer<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../UserContext&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MultipleContextPage</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span><span class="token punctuation">{</span>
    <span class="token keyword">static</span> contextType <span class="token operator">=</span> ThemeContext<span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>themeColor<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">MultipleContextPage</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ThemeConsumer</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token punctuation">{</span><span class="token parameter">theme</span><span class="token operator">=&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserConsumer</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token parameter">user</span><span class="token operator">=&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>theme<span class="token punctuation">.</span>themeColor<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">UserConsumer</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ThemeConsumer</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/notes/assets/img/note.227d46ee.png" alt="è¿™æ˜¯å›¾ç‰‡" title="Magic Gardens"></p> <h2 id="reduxä¸­é—´ä»¶"><a href="#reduxä¸­é—´ä»¶" class="header-anchor">#</a> Reduxä¸­é—´ä»¶</h2> <p><img src="/notes/assets/img/reduxflow.c452de3d.png" alt="è¿™æ˜¯å›¾ç‰‡" title="Magic Gardens"></p> <ol><li>Reduxåªæ˜¯ä¸ªçº¯ç²¹çš„çŠ¶æ€ç®¡ç†å™¨ï¼Œé»˜è®¤åªæ”¯æŒåŒæ­¥ï¼Œå®ç°å¼‚æ­¥ä»»åŠ¡ æ¯”å¦‚å»¶è¿Ÿï¼Œç½‘ç»œè¯·æ±‚ï¼Œéœ€è¦ä¸­é—´ä»¶çš„æ”¯æŒï¼Œæ¯”å¦‚æˆ‘ä»¬è¯•ç”¨æœ€ç®€å•çš„redux-thunkå’Œredux-logger .</li> <li>ä¸­é—´ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯¹store.dispatchæ–¹æ³•è¿›è¡Œæ”¹é€ ï¼Œåœ¨å‘å‡ºActionå’Œæ‰§è¡Œ Reducer è¿™ä¸¤æ­¥ä¹‹é—´ï¼Œæ·»åŠ äº†å…¶ä»–åŠŸèƒ½ã€‚</li></ol> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// å®‰è£…</span>
npm install redux<span class="token operator">-</span>thunk redux<span class="token operator">-</span>logger <span class="token operator">--</span>save

<span class="token comment">//å¼•å…¥</span>
<span class="token comment">// store/index.js</span>
<span class="token keyword">import</span><span class="token punctuation">{</span>createStore<span class="token punctuation">,</span>applyMiddleware<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;redux&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> thunk form <span class="token string">&quot;redux-thunk&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> logger form <span class="token string">&quot;redux-logger&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">countReducer</span><span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>action</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">&quot;ADD&quot;</span><span class="token operator">:</span>
            <span class="token keyword">return</span> state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">&quot;MINUS&quot;</span><span class="token operator">:</span>
            <span class="token keyword">return</span> state <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">return</span> state<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>countReducer<span class="token punctuation">,</span><span class="token function">applyMiddleware</span><span class="token punctuation">(</span>thunk<span class="token punctuation">,</span>logger<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span>

</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// åŠ ä¸Šä¸­é—´ä»¶reduxå°±å¯ä»¥å¼‚æ­¥æ´¾å‘äº†</span>
<span class="token function-variable function">asyncAdd</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token parameter">dispatch</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&quot;ADD&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="react-reduxåŠreact-routerä½¿ç”¨"><a href="#react-reduxåŠreact-routerä½¿ç”¨" class="header-anchor">#</a> React-ReduxåŠReact-Routerä½¿ç”¨</h1> =&gt;<Child count="{count}"></Child>}&gt;
 =&gt;<Child count="{count}"></Child>}&gt;
<h2 id="gereratorå‡½æ•°"><a href="#gereratorå‡½æ•°" class="header-anchor">#</a> Gereratorå‡½æ•°</h2> <blockquote><p>functionä¸å‡½æ•°åä¹‹é—´æœ‰ä¸ª*</p> <p>yieldåªèƒ½ä½¿ç”¨åœ¨generatorä¸­,åœ¨åˆ«çš„åœ°æ–¹ä¼šæŠ¥é”™</p> <p>yieldå®šä¹‰äº†å†…éƒ¨ä¸åŒçš„çŠ¶æ€</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">helloWorldGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;ending&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> hw <span class="token operator">=</span> <span class="token function">helloWorldGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hw<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//hello</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hw<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//world</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hw<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//ending</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hw<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//undifined</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">helloWorldGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token punctuation">(</span>a<span class="token operator">=</span> <span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
<span class="token punctuation">}</span>
<span class="token keyword">var</span> hw <span class="token operator">=</span> <span class="token function">helloWorldGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›çš„æ˜¯ä¸€ä¸ªéå†å™¨å¯¹è±¡</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hw<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//åªæœ‰è°ƒç”¨nextæ–¹æ³•æ‰ä¼šéå†ä¸‹ä¸€ä¸ªå†…éƒ¨çŠ¶æ€;æƒ°æ€§æ±‚å€¼</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span>
</code></pre></div><h2 id="redux-saga-ä¸­é—´ä»¶-å¸®åŠ©å®ç°å¼‚æ­¥æ“ä½œ"><a href="#redux-saga-ä¸­é—´ä»¶-å¸®åŠ©å®ç°å¼‚æ­¥æ“ä½œ" class="header-anchor">#</a> Redux-saga ä¸­é—´ä»¶:å¸®åŠ©å®ç°å¼‚æ­¥æ“ä½œ</h2> <ul><li>è°ƒç”¨å¼‚æ­¥æ“ä½œ é˜»å¡call,ç”¨äºé¡ºåºæ‰§è¡Œ; ä¸é˜»å¡fork</li> <li>çŠ¶æ€æ›´æ–°{dispatch} put</li> <li>åšç›‘å¬ takeEvery take</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span><span class="token punctuation">{</span>call<span class="token punctuation">,</span>put<span class="token punctuation">,</span>take<span class="token punctuation">,</span>takeEvery<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;redux-saga/effect&quot;</span><span class="token punctuation">;</span>

<span class="token comment">//worker saga</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">loginHandler</span><span class="token punctuation">(</span><span class="token parameter">action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;action&quot;</span><span class="token punctuation">,</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&quot;LOGIN_REQUEST&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//å±•ç¤ºloading</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> res1 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">call</span><span class="token punctuation">(</span>LoginService<span class="token punctuation">.</span>login<span class="token punctuation">,</span>action<span class="token punctuation">.</span>payload<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç¬¬ä¸€ä¸ª</span>
    <span class="token keyword">const</span> res2 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">call</span><span class="token punctuation">(</span>LoginService<span class="token punctuation">.</span>getMoreUserInfo<span class="token punctuation">,</span>res1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç¬¬äºŒä¸ªæ¥å£</span>
    <span class="token comment">// yield put({type:&quot;LOGIN_SUCCESS&quot;,payload:res});//ä¸€ä¸ª</span>
    <span class="token keyword">yield</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&quot;LOGIN_SUCCESS&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">payload</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token operator">...</span>res2<span class="token punctuation">,</span><span class="token operator">...</span>res1<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å¤šä¸ªæ¥å£</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&quot;LOGIN_FAILURE&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">payload</span><span class="token operator">:</span>err<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token comment">//æŠ›å‡ºé”™è¯¯ä¿¡æ¯</span>
<span class="token punctuation">}</span>

<span class="token comment">//watcher saga</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">loginSaga</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token function">takeEvery</span><span class="token punctuation">(</span><span class="token string">&quot;logingSaga&quot;</span><span class="token punctuation">,</span>loginHandle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> createSagaMiddleware <span class="token keyword">from</span> <span class="token string">&quot;redux-saga&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore<span class="token punctuation">,</span>combineReducers<span class="token punctuation">,</span>applyMiddleware <span class="token punctuation">}</span> form <span class="token string">&quot;redux&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> userReducer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./userReducer&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> loginSaga <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./loginSaga&quot;</span>

<span class="token keyword">const</span> sagaMiddleware <span class="token operator">=</span> <span class="token function">createSagaMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>
    <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">user</span><span class="token operator">:</span>userReducer <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">applyMiddleware</span><span class="token punctuation">(</span>sagaMiddleware<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
sagaMiddleware<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>loginSaga<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span>
</code></pre></div> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> all <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;redux-saga/effect&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> loginSaga <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./loginSaga&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> logoutSaga <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./logoutSaga&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">rootSaga</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">loginSaga</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">logoutSaga</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="craæ–¹å¼åˆ›å»ºé¡¹ç›®"><a href="#craæ–¹å¼åˆ›å»ºé¡¹ç›®" class="header-anchor">#</a> craæ–¹å¼åˆ›å»ºé¡¹ç›®</h1> <h1 id="umiå’Œdva"><a href="#umiå’Œdva" class="header-anchor">#</a> umiå’Œdva</h1> <h3 id="umi"><a href="#umi" class="header-anchor">#</a> umi</h3> <p><strong>umiæ˜¯ä¸€ä¸ªå¯æ’æ‹”çš„ä¼ä¸šçº§reactåº”ç”¨æ¡†æ¶</strong>
ç‰¹ç‚¹ï¼š</p> <ul><li><strong>å¼€ç®±å³ç”¨</strong>ï¼Œå†…ç½®react,react-router...</li> <li><strong>ç±»next.jsä¸”åŠŸèƒ½å®Œå¤‡çš„è·¯ç”±çº¦å®š</strong>ï¼ŒåŒæ—¶æ”¯æŒé…ç½®çš„è·¯ç”±æ–¹å¼ã€‚</li> <li><strong>å®Œå–„çš„æ’ä»¶ä½“ç³»</strong></li> <li><strong>é«˜æ€§èƒ½</strong></li> <li><strong>æ”¯æŒé™æ€é¡µé¢å¯¼å‡º</strong>ï¼Œé€‚é…å„ç§ç¯å¢ƒï¼Œæ¯”å¦‚ä¸­å°ä¸šåŠ¡ï¼Œæ— çº¿ä¸šåŠ¡ï¼Œeggï¼Œæ”¯ä»˜å®é’±åŒ…ï¼Œäº‘å³°è¶ã€‚</li> <li><strong>å¼€å‘å¯åŠ¨å¿«</strong></li> <li><strong>ä¸€é”®å…¼å®¹IE9</strong></li> <li><strong>å®Œå–„çš„tsæ”¯æŒ</strong></li> <li><strong>ä¸dvaæ•°æ®æµçš„æ·±å…¥èåˆ</strong></li></ul> <h3 id="dva"><a href="#dva" class="header-anchor">#</a> dva</h3> <p><strong>dva é¦–å…ˆæ˜¯ä¸€ä¸ªåŸºäº redux å’Œ redux-saga çš„æ•°æ®æµæ–¹æ¡ˆï¼Œç„¶åä¸ºäº†ç®€åŒ–å¼€å‘ä½“éªŒï¼Œdva è¿˜é¢å¤–å†…ç½®äº†react-router å’Œ fetchï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªè½»é‡çº§çš„åº”ç”¨æ¡†æ¶ã€‚</strong>
ç‰¹ç‚¹ï¼š</p> <ul><li><strong>æ˜“å­¦æ˜“ç”¨</strong>ï¼Œä»…æœ‰6ä¸ªapiï¼Œå¯¹reduxç”¨æˆ·å°¤å…¶å‹å¥½ï¼Œé…åˆumiä½¿ç”¨åæ›´æ˜¯é™ä½ä¸º 0 API</li> <li><strong>elm æ¦‚å¿µ</strong>ï¼Œé€šè¿‡ reducers,effectså’Œ subscriptions ç»„ç»‡ model</li> <li><strong>æ’ä»¶æœºåˆ¶</strong>ï¼Œæ¯”å¦‚ dva-loading å¯ä»¥è‡ªåŠ¨å¤„ç† loading çŠ¶æ€ï¼Œä¸ç”¨ä¸€ééåœ°å†™showLoadingå’ŒhideLoading</li> <li><strong>æ”¯æŒ HMR(æ¨¡å—çƒ­æ›¿æ¢)</strong>ï¼ŒåŸºäºbabel-plugin-dva-hmrå®ç° componentsã€routes å’Œmodels çš„ HMR.</li></ul> <h5 id="umi-dva-roadhogä¹‹é—´çš„å…³ç³»"><a href="#umi-dva-roadhogä¹‹é—´çš„å…³ç³»" class="header-anchor">#</a> umiï¼Œdvaï¼Œroadhogä¹‹é—´çš„å…³ç³»</h5> <ul><li>roadhogæ˜¯åŸºäºwebpackçš„å°è£…å·¥å…·ï¼Œç›®çš„æ˜¯ç®€åŒ–webpackçš„é…ç½®</li> <li>umiå¯ä»¥ç®€å•çš„ç†è§£ä¸ºroadhog+è·¯ç”±ï¼Œæ€è·¯ç±»ä¼¼next.js/nuxt.jsï¼Œè¾…ä»¥ä¸€å¥—æ’ä»¶æœºåˆ¶ï¼Œç›®çš„æ˜¯é€šè¿‡æ¡†æ¶çš„æ–¹å¼ç®€åŒ–Reactå¼€å‘</li> <li>dvaç›®å‰æ˜¯çº¯ç²¹çš„æ•°æ®æµï¼Œå’Œumiä»¥åŠroadhogä¹‹é—´å¹¶æ²¡æœ‰ç›¸äº’çš„ä¾èµ–å…³ç³»ï¼Œå¯ä»¥åˆ†å¼€ä¹Ÿå¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼Œä¸ªäººè§‰å¾—umi+dvaæ˜¯æ¯”è¾ƒæ­çš„</li></ul> <h2 id="umiåˆ›å»º"><a href="#umiåˆ›å»º" class="header-anchor">#</a> umiåˆ›å»º</h2> <ul><li>è„šæ‰‹æ¶ç‰ˆæœ¬ï¼š</li></ul> <blockquote><p>npm install -g umi å…¨å±€ä¸‹è½½umi</p> <p>npm i @ant-design/pro-cli -g ä¸‹è½½pro</p> <p>pro create myapp ç”¨proå»åˆ›å»º</p> <p>å¯é€‰æ‹©ç®€å•çš„umi+ antd å’Œå…¨é‡çš„ simple/complete</p> <p>åˆ›å»ºå®Œæˆ</p></blockquote> <ul><li>åŸºæœ¬ä½¿ç”¨</li></ul> <blockquote><p>åˆ›å»ºå•é¡µé¢ï¼š umi g page about</p> <p>åˆ›å»ºæ–‡ä»¶å¤¹ï¼š umi g page more/index --less(é»˜è®¤æ˜¯css)</p> <p>åŠ¨æ€è·¯ç”±ï¼š umi g page product/'$id'</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code>config
<span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/product/:id'</span><span class="token punctuation">,</span><span class="token comment">//æ”¹æˆå†’å·</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span><span class="token string">'./product/$id'</span>
<span class="token punctuation">}</span>
</code></pre></div></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/notes/notes/vue/component.html" class="prev">
          æ·±å…¥ç»„ä»¶
        </a></span> <span class="next"><a href="/notes/notes/sql/basic.html">
          åŸºç¡€ç†å¿µ
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#åˆ›å»ºé¡¹ç›®" class="sidebar-link reco-side-åˆ›å»ºé¡¹ç›®" data-v-b57cc07c>åˆ›å»ºé¡¹ç›®</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#jsxè¯­æ³•" class="sidebar-link reco-side-jsxè¯­æ³•" data-v-b57cc07c>jsxè¯­æ³•</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#ç»„ä»¶" class="sidebar-link reco-side-ç»„ä»¶" data-v-b57cc07c>ç»„ä»¶</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/notes/react/basic.html#classç»„ä»¶" class="sidebar-link reco-side-classç»„ä»¶" data-v-b57cc07c>classç»„ä»¶</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/notes/react/basic.html#functionç»„ä»¶" class="sidebar-link reco-side-functionç»„ä»¶" data-v-b57cc07c>functionç»„ä»¶</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#setstateä½¿ç”¨" class="sidebar-link reco-side-setstateä½¿ç”¨" data-v-b57cc07c>setStateä½¿ç”¨</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#ç”Ÿå‘½å‘¨æœŸ" class="sidebar-link reco-side-ç”Ÿå‘½å‘¨æœŸ" data-v-b57cc07c>ç”Ÿå‘½å‘¨æœŸ</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/notes/react/basic.html#æŒ‚è½½" class="sidebar-link reco-side-æŒ‚è½½" data-v-b57cc07c>æŒ‚è½½</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/notes/react/basic.html#æ›´æ–°" class="sidebar-link reco-side-æ›´æ–°" data-v-b57cc07c>æ›´æ–°</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/notes/react/basic.html#å¸è½½" class="sidebar-link reco-side-å¸è½½" data-v-b57cc07c>å¸è½½</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#ç»„ä»¶å¤åˆ" class="sidebar-link reco-side-ç»„ä»¶å¤åˆ" data-v-b57cc07c>ç»„ä»¶å¤åˆ</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#redux" class="sidebar-link reco-side-redux" data-v-b57cc07c>Redux</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/notes/react/basic.html#react-redux" class="sidebar-link reco-side-react-redux" data-v-b57cc07c>react-redux</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#react-router" class="sidebar-link reco-side-react-router" data-v-b57cc07c>react-router</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#purecomponent" class="sidebar-link reco-side-purecomponent" data-v-b57cc07c>PureComponent</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/notes/react/basic.html#æ€§èƒ½ä¼˜åŒ–å’Œæµ…æ¯”è¾ƒ" class="sidebar-link reco-side-æ€§èƒ½ä¼˜åŒ–å’Œæµ…æ¯”è¾ƒ" data-v-b57cc07c>æ€§èƒ½ä¼˜åŒ–å’Œæµ…æ¯”è¾ƒ</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#hook" class="sidebar-link reco-side-hook" data-v-b57cc07c>Hook</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/notes/react/basic.html#usememoå’Œusecallback" class="sidebar-link reco-side-usememoå’Œusecallback" data-v-b57cc07c>useMemoå’ŒuseCallback</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#è‡ªå®šä¹‰hookä¸hookä½¿ç”¨è§„åˆ™" class="sidebar-link reco-side-è‡ªå®šä¹‰hookä¸hookä½¿ç”¨è§„åˆ™" data-v-b57cc07c>è‡ªå®šä¹‰Hookä¸Hookä½¿ç”¨è§„åˆ™</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#é«˜é˜¶ç»„ä»¶-hoc" class="sidebar-link reco-side-é«˜é˜¶ç»„ä»¶-hoc" data-v-b57cc07c>é«˜é˜¶ç»„ä»¶-HOC</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/notes/react/basic.html#è£…é¥°å™¨å†™æ³•" class="sidebar-link reco-side-è£…é¥°å™¨å†™æ³•" data-v-b57cc07c>è£…é¥°å™¨å†™æ³•</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#antdè¡¨å•ç»„ä»¶è®¾è®¡ä¸å®ç°" class="sidebar-link reco-side-antdè¡¨å•ç»„ä»¶è®¾è®¡ä¸å®ç°" data-v-b57cc07c>antdè¡¨å•ç»„ä»¶è®¾è®¡ä¸å®ç°</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#ä¼ é€é—¨-å¼¹çª—æŒ‚è½½" class="sidebar-link reco-side-ä¼ é€é—¨-å¼¹çª—æŒ‚è½½" data-v-b57cc07c>ä¼ é€é—¨  &amp;&amp;  å¼¹çª—æŒ‚è½½</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#context-api" class="sidebar-link reco-side-context-api" data-v-b57cc07c>Context API</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#reduxä¸­é—´ä»¶" class="sidebar-link reco-side-reduxä¸­é—´ä»¶" data-v-b57cc07c>Reduxä¸­é—´ä»¶</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#gereratorå‡½æ•°" class="sidebar-link reco-side-gereratorå‡½æ•°" data-v-b57cc07c>Gereratorå‡½æ•°</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#redux-saga-ä¸­é—´ä»¶-å¸®åŠ©å®ç°å¼‚æ­¥æ“ä½œ" class="sidebar-link reco-side-redux-saga-ä¸­é—´ä»¶-å¸®åŠ©å®ç°å¼‚æ­¥æ“ä½œ" data-v-b57cc07c>Redux-saga ä¸­é—´ä»¶:å¸®åŠ©å®ç°å¼‚æ­¥æ“ä½œ</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/notes/react/basic.html#umi" class="sidebar-link reco-side-umi" data-v-b57cc07c>umi</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/notes/react/basic.html#dva" class="sidebar-link reco-side-dva" data-v-b57cc07c>dva</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/notes/react/basic.html#umiåˆ›å»º" class="sidebar-link reco-side-umiåˆ›å»º" data-v-b57cc07c>umiåˆ›å»º</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/notes/assets/js/app.74070628.js" defer></script><script src="/notes/assets/js/7.8c1b57da.js" defer></script><script src="/notes/assets/js/2.08219823.js" defer></script><script src="/notes/assets/js/1.03a74d01.js" defer></script><script src="/notes/assets/js/33.ac3e0dfc.js" defer></script>
  </body>
</html>
